SPRING WEB SECURITY

로그인 처리를 하는데 사용되는 스프링프레임 워크의 기능
사용자의 권한, 등급을 기반으로 로그인 체크를 사용
기본적으로 쿠키를 이용하거나 세션을 이용하는 방식으로 로그인 처리를 했지만
스프링에서는 + 인터셉터를 이용해서 로그인 처리

인터셉터 VS 필터
필터는 JSP 서블릿에서 사용되는 개념
서블릿이 요청을 받아서 처리하기 전에 필요한 동작을 핉터에서 해줬었다
인코딩 작업, 널값 작업 후에 다음 단계로 요청을 전달
필터는 스프링과 무관한 서블릿의 자원

필터

				서블릿 범위
요청 ==========>[ | 필터 | ===> 요청 중간 처리 ===> | 서블릿 | ]


인터셉터

				서블릿 범위			스프링 범위
요청==========>[ | 필터 | ======> [ | 인터셉터 | ====> | 컨트롤러 |]]
인터셉터는 스프링의 빈으로 관리대는 필터
인터셉터를 사용하면 스프링 내부에서 관리되는 모든 자월들을 활용할 수 있게 된다

스프링 시쿠리티 라이브러리를 추가하고 (pom.xml에 dependency)
config, web, core +
스프링 시큐리티 전용 파일(xml)을 root-context.xml이 있는 위치에 추가
스프링 MVC에서 시큐티리 기능을 사용하기 위해서 서큐리티가 서블릿 범위에서 동작하도록
web.xml에 필터로 등록

스프링 시큐리티에서 가장 중요한 개념 두가지
인증(Authentication), 권한(Authorization)

인증 : 자기 자신을 증명
권한 : 다른 사람이 자격을 부여해준다

ex)
회사입구에서 누구인지를 물어본다
무엇무엇을 하러 온 사람이다 - 본인 인증

인증 성공 후에 회사 내부로 들어가 담당자를 만나 무엇을 하기 위한 접근 권한 등의 정보를 얻어야한다 - 권한

스프링 시큐리티 설정 파일 작성할 때 추가했던
AuthenticationManager -> 인증 담당

접근 제한 설정

스프링 시큐리티와 jdbc를 같이 이용하는 방법
1) 스프링 시큐리티에서 지정한 형식으로 테이블을 생성해서 사용
2) 우리가 작성한 데이터베이스를 이용하는 방식

인증 / 권한을 위해 테이블을 생성
tbl_member : 회원 정보
tbl_member_auth : 회원의 권한
패스워드를 인코딩 - 암호화 처리

데이터 베이스에 저장된 회원정보를 인증을 할 시 필요한 쿼리 2개
사용자 정보를 인증하는데 필요한 쿼리
그 사용자의 권한을 확인하는데 필요한 쿼리
